"use strict";!function(){function e(e){for(var o=window.location.search.substring(1),t=o.split("&"),r=0;r<t.length;r++){var n=t[r].split("=");if(n[0]==e)return n[1]}}var o={locale:"en",websocket:"http://localhost:8000",followPlayer:!1,noPopup:!1,noConfirm:!1,memory:{limit:!1,maxCaught:50,mathPath:1e4,maxPokestops:250}},t={};if("function"==typeof require){var r,n,s,i;!function(){console.log("Load config from disk"),r=require("path"),n=require("fs");var e=require("electron");s=e.remote,i=r.join(s.app.getPath("userData"),"settings.json");var a=require("./package.json"),c=a.version;t.save=function(e){n.writeFileSync(i,JSON.stringify(e))},t.load=function(){var e=o;try{e=JSON.parse(n.readFileSync(i,"utf-8")),e=Object.assign({},o,e),e.version=c,e.websocket.startsWith("ws")&&(e.websocket=o.websocket),e.memory=o.memory}catch(e){configService.save(o)}return e}}()}else console.log("Load config from storage"),t.load=function(){var t=Object.assign({},o),r=localStorage.getItem("config");r&&Object.assign(t,JSON.parse(r)),t.websocket.startsWith("ws")&&(t.websocket=o.websocket);var n=e("websocket");return n&&(t.websocket=n),t.version="online",t.memory=o.memory,t},t.save=function(e){console.log(e),localStorage.setItem("config",JSON.stringify(e))};window.configService=t}();